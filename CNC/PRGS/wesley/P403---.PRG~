1 HORI_SHELVES
2 80000 30000 1600
3 1
4 0
5 1
6 0
%
(IF GROVE DISTANCE SMALLER THAN SUCUTION CUP SIZE)
(ONLY DO A SET OF THE GOVES FIRST CHANING P1 FROM 1 TO 2 OR 3)
(WILL RUN THE OTHER SET OF GROVES)
(P2=1 ENABLE P2=0 TO DISABLE GROVE SETS)
@P1=1
(IF P2=1 NOT EQUAL 1 THEN YOU WILL DRILLING THOUGHT MACHINE)
@P2=1
(
(
(
M98 K400 D1
(
@P72=(DY/2)+20
@P73=(DX+P48)/(P54+1))
@P71=P73-(P48/2)
(old ones
(@P73=(DX/(P54+1))
(@P71=P73

(WORK OUT MIN GROVE
@IF P2=1
@P75=(INT((180/(P73+P48)))+1)
@ELSE
@P75=1
@ENDIF
(
@IF P1=P75
@P43=1
@ELSE
@P43=-1
@ENDIF
@IF P2=0
@P43=1
@ENDIF
(
@P40=P53-P51
@P41=DY-P52
M98 K409 D1
(
@IF (P2*180)>(P73+P48)
@P73=P73*P75
@P71=P73-(P48/2)
(old one @P71=P71*P1
@ENDIF
@IF P1>P75
@P71=DX+20
@ENDIF
(
@WHILE P71<DX
G72 X=P71 Y-32 Z3 S18 E1 T27
@P74=P71-(P48/2)
G41 X=P74 Y-32 F4
G01 Y=P72
@P74=P71+(P48/2)
G01 X=P74
G01 Y0
G40 Y-32 Z0
@P71=P71+P73
@WEND
(
@P42=-1
M98 K409 D1
.
